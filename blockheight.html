<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.0.0/dist/ethers.min.js"></script>
    <script>
        if (typeof window.ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {
            // Use the provider injected by MetaMask
            var provider = new ethers.providers.Web3Provider(window.ethereum || window.web3.currentProvider);
            provider = provider.getNetwork().then((network) => {
                if(network.name !== "goerli") {
                    provider = new ethers.providers.JsonRpcProvider('https://gorli.infura.io/v3/');
                }
            });
            async function getBlockHeight() {
                let blockHeight = await provider.getBlockNumber();
                document.getElementById("blockHeight").innerHTML = blockHeight;
            }
        } else {
            alert("Please install MetaMask to use this feature.");
        }
    </script>
</head>
<body>
<button onclick="getBlockHeight()">Get Block Height</button>
<p id="blockHeight"></p>
</body>
</html>
